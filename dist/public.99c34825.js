document.addEventListener("DOMContentLoaded",()=>{let e=document.querySelector("#wish-form"),t=document.querySelector("#name"),a=document.querySelector("#message"),n=document.querySelector("#status"),s=document.querySelector("#message-list");async function o(){try{let e=await fetch("/api/getMessage"),t=await e.json();s.innerHTML="",t.sort((e,t)=>new Date(t.timestamp)-new Date(e.timestamp)).forEach(e=>{let t=document.createElement("li");t.textContent=`${e.name} (${e.via}) \u{2013} ${e.message}`,s.appendChild(t)})}catch(e){s.innerHTML="<li>Failed to load messages.</li>"}}e.addEventListener("submit",async e=>{e.preventDefault();let s=t.value.trim(),i=a.value.trim();if(!i){n.textContent="Message cannot be empty.";return}try{let e=await fetch("/api/saveWebMessage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:s,message:i})});n.textContent=await e.text(),t.value="",a.value="",o()}catch(e){n.textContent="Failed to send message."}}),o()});
//# sourceMappingURL=public.99c34825.js.map
